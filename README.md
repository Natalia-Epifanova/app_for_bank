# Работа над банковским приложением

## Цель проекта: 
Проект предназначен для обработки транзакций пользователя:
+ Обработка транзакций за определенный период
+ Обработка транзакций по категориям
+ Обработка транзакций по затратам
+ Обработка категорий кэшбэков
+ Подготовка отчетов по затратам


## Установка:
1. Клонируйте репозиторий:
```https://github.com/Natalia-Epifanova/app_for_bank```
2. 2. Установите зависимости:
```pip install -r requirements.txt```


## Требования к проекту
- Python 3.11
- black 24.10.0
- flake8 7.1.1
- isort 5.13.2
- mypy 1.13.0
- pytest = 8.3.4
- pytest-cov = 6.0.0
- python-dotenv = 1.0.1

## Реализованные функции и примеры их работы:
1. Модуль ```utils```:
 -  ```get_real_time_for_greetings()``` Функция не получает на вход ничего, 
возвращает приветствие пользователя в зависимости от времени, в которое он обращается
 - ```search_transactions_for_month() ``` Функция принимает на вход список транзакций 
и дату в формате "%Y-%m-%d %H:%M:%S". На выходе - список транзакций за указанный в дате месяц  
 - ```cards_information()``` Функция принимает на вход список транзакций за месяц из прошлой функции 
и возвращает список, содержащий информацию о тратах по всем картам и кэшбэкам
 - ```top_transactions()``` Функция принимает на вход список транзакций за месяц из функции ```search_transactions_for_month() ```
и возвращает список с описанием топ-5 транзакций по цене за месяц
 - ```get_currency()``` Функция принимает на вход строку с валютой, по которой необходимо получить актуальный курс по API запросу,
и возвращает стоимость в рублях одной единицы запрашиваемой валюты
 - ```json_currency()``` Функция принимает на вход строку с указанием пути к файлу, в котором указаны валюты, курс которых нужно запросить
с помощью функции ```get_currency()```. На выходе - список с соответствием стоимости валюте
 - ```get_stock_prices()``` Функция принимает на вход строку с сокращенным названием компании(пример: 'AAPL'), по которой необходимо получить актуальную стоимость 
по API запросу, и возвращает стоимость в рублях одной акции
 - ```json_stock_prices()``` Функция принимает на вход строку с указанием пути к файлу, в котором указаны сокращенные названия компаний, акции которых нужно запросить
с помощью функции ```get_stock_prices()```. На выходе - список с соответствием стоимости акциям
2. Модуль ```views```:
- ```general_page()``` Функция принимает на вход дату в формате "%Y-%m-%d %H:%M:%S" и возвращает JSON-ответ, содержащий информацию
с результатами работы всех функций из модуля ```utils```
3. Модуль ```reading_excel_file```:
- ```reading_excel``` Функция принимает на вход строку с указанием пути к файлу excel, в котором хранится список с транзакциями, 
и возвращает список словарей с транзакциями
4. Модуль ```services```:
- ```profitable_cashback_categories``` Функция принимает на вход список транзакций, строку с годом в формате "****"
 и строку с месяцем. На выходе JSON ответ с категориями кэшбэка за месяц и полученных бонусов по этим категориям
- ```investment_bank``` Функция принимает на вход строку с месяцем в формате "%Y-%m", список транзакций и число, до которого нужно округлять все операции, 
возвращает сумму, которую удалось бы отложить за указанный месяц при округлении всех трат до лимита
- ```search_by_string``` Функция принимает на вход список транзакций и строку, по которой необходимо осуществить поиск в списке транзакций.
Возвращет JSON-ответ со списком транзакций, содержащих нужное слово
- ```search_by_phone``` Функция принимает на вход список транзакций и возвращает JSON-ответ со списком всех транзакций по мобильной связи
- ```search_by_transfers_to_individuals``` Функция принимает на вход список транзакций и возвращает JSON-ответ со списком всех транзакций, 
содержащих переводы физическим лицам


## Тестирование
Чтобы проверить процент покрытия кода тестами - необходимо:
- Ввести в терминале команду ```cd tests```
- Ввести в терминале команду ```poetry run pytest --cov-report term-missing --cov=src```
#### Благодаря тестам была осуществлена проверка всех функций на корректность работы. Было проверено:
- соответствие входных данных ожидаемым
- получение ожидаемого результата
- корректность работы функции при нестандартных входных данных (а именно выброс ошибок)
